{"version":3,"sources":["quality_control.module.js","quality_control.routes.js","controllers/settings-content-container.controller.js"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"quality_control.js","sourcesContent":["var qualityControlModule = angular.module('quality_control', ['sharedModule']);","qualityControlModule\r\n\t.config(['$stateProvider', function($stateProvider){\r\n\t\t$stateProvider\r\n\t\t\t.state('main', {\r\n\t\t\t\turl: '/',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/views/main.view.html',\r\n\t\t\t\t\t\tcontroller: 'sharedMainViewController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content-container@main': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/views/content-container.view.html',\r\n\t\t\t\t\t\tcontroller: 'sharedDashboardContentContainerController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'toolbar@main': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/toolbar.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'left-sidenav@main': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/sidenavs/main-left-sidenav.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content@main':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/admin/templates/content/content.template.html',\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.state('main.settings', {\r\n\t\t\t\turl: 'settings',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content-container':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/views/content-container.view.html',\r\n\t\t\t\t\t\tcontroller: 'settingsContentContainerController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'toolbar@main.settings': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/toolbar.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'left-sidenav@main.settings': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/sidenavs/main-left-sidenav.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'subheader@main.settings': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/admin/templates/subheaders/settings-subheader.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content@main.settings':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/admin/templates/content/settings-content.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.state('main.tracker', {\r\n\t\t\t\turl: 'tracker',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content-container':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/views/content-container.view.html',\r\n\t\t\t\t\t\tcontroller: 'trackerContentContainerController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'toolbar@main.tracker': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/toolbar.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'left-sidenav@main.tracker': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/sidenavs/main-left-sidenav.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'subheader@main.tracker': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/subheaders/tracker-subheader.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content@main.tracker':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/content/tracker-content.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.state('main.upload', {\r\n\t\t\t\turl: 'upload',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content-container':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/views/content-container.view.html',\r\n\t\t\t\t\t\tcontroller: 'uploadContentContainerController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'toolbar@main.upload': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/toolbar.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'left-sidenav@main.upload': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/sidenavs/main-left-sidenav.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content@main.upload':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/admin/templates/content/upload-content.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.state('main.sheets', {\r\n\t\t\t\turl: 'sheets',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content-container':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/views/content-container.view.html',\r\n\t\t\t\t\t\tcontroller: 'sheetsContentContainerController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'toolbar@main.sheets': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/toolbar.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'left-sidenav@main.sheets': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/sidenavs/main-left-sidenav.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'subheader@main.sheets': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/admin/templates/subheaders/sheets-subheader.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content@main.sheets':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/admin/templates/content/sheets-content.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.state('main.task', {\r\n\t\t\t\turl: 'task/{taskID}',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content-container':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/views/content-container.view.html',\r\n\t\t\t\t\t\tcontroller: 'taskContentContainerController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'toolbar@main.task': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/toolbar.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'left-sidenav@main.task': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/sidenavs/main-left-sidenav.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content@main.task':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/content/task-content.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}]);","qualityControlModule\r\n\t.controller('settingsContentContainerController', ['$scope', '$filter', '$timeout', '$mdDialog', '$mdToast', '$mdBottomSheet', '$mdMedia', 'Preloader', 'Setting', 'User', function($scope, $filter, $timeout, $mdDialog, $mdToast, $mdBottomSheet, $mdMedia, Preloader, Setting, User){\r\n\t\t$scope.toolbar = {};\r\n\r\n\t\t$scope.toolbar.childState = 'Settings';\r\n\r\n\t\t$scope.toolbar.getItems = function(query){\r\n\t\t\t$scope.showInactive = true;\r\n\t\t\tvar results = query ? $filter('filter')($scope.toolbar.items, query) : $scope.toolbar.items;\r\n\t\t\treturn results;\r\n\t\t}\r\n\t\t$scope.toolbar.searchAll = true;\r\n\t\t/**\r\n\t\t * Reveals the search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.showSearchBar = function(){\r\n\t\t\t$scope.type.busy = true;\r\n\t\t\t$scope.searchBar = true;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Hides the search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.hideSearchBar = function(){\r\n\t\t\t$scope.type.busy = false;\r\n\t\t\t$scope.searchBar = false;\r\n\t\t\t$scope.toolbar.searchText = '';\r\n\t\t\t$scope.toolbar.searchItem = '';\r\n\t\t\t$scope.showInactive = false;\r\n\t\t\t/* Cancels the paginate when the user sent a query */\r\n\t\t\tif($scope.searched){\r\n\t\t\t\t$scope.type.page = 1;\r\n\t\t\t\t$scope.type.no_matches = false;\r\n\t\t\t\t$scope.type.items = [];\r\n\t\t\t\t$scope.searched = false;\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\t$scope.searchUserInput = function(){\r\n\t\t\t$scope.type.busy = true;\r\n\t\t\t$scope.isLoading = true;\r\n  \t\t\t$scope.type.show = false;\r\n  \t\t\t\r\n  \t\t\t$scope.query = {};\r\n  \t\t\t$scope.query.searchText = $scope.toolbar.searchText;\r\n  \t\t\t$scope.query.withTrashed = true;\r\n\r\n  \t\t\tSetting.search($scope.subheader.currentNavItem, $scope.query)\r\n  \t\t\t\t.success(function(data){\r\n  \t\t\t\t\t$scope.toolbar.items = [];\r\n  \t\t\t\t\tif(data.length){\r\n\t  \t\t\t\t\tangular.forEach(data, function(item){\r\n\t  \t\t\t\t\t\tpushItem(item);\r\n\t  \t\t\t\t\t});\r\n\t  \t\t\t\t\t$scope.type.items = data;\r\n  \t\t\t\t\t}\r\n  \t\t\t\t\telse{\r\n  \t\t\t\t\t\t$scope.type.items = [];\t\r\n\t  \t\t\t\t\t$scope.type.no_matches = true;\r\n  \t\t\t\t\t}\r\n  \t\t\t\t\t$scope.searched = true;\r\n  \t\t\t\t\t$scope.type.show = true;\r\n  \t\t\t\t\t$scope.isLoading = false;\r\n  \t\t\t\t})\r\n\t\t\t\t.error(function(data){\r\n\t\t\t\t\tPreloader.error();\r\n\t\t\t\t});\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Object for fab\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.fab = {};\r\n\r\n\t\t$scope.fab.icon = 'mdi-plus';\r\n\t\t\r\n\t\t/* Sets up the page for what tab it is*/\r\n\t\tvar setInit = function(item){\r\n\t\t\tvar action = 'create';\r\n\t\t\tvar settingController = Setting.settingController(action, item);\r\n\t\t\tvar settingDialogTemplate = Setting.settingDialogTemplate(action, item);\r\n\r\n\t\t\t$scope.fab.label = item;\r\n\r\n\t\t\t/* Create */\r\n\t\t\t$scope.fab.action = function(){\r\n\t\t\t\t$mdDialog.show({\r\n\t\t\t      \tcontroller: settingController,\r\n\t\t\t      \ttemplateUrl: '/app/components/admin/templates/dialogs/' + settingDialogTemplate,\r\n\t\t\t      \tparent: angular.element(document.body),\r\n\t\t\t      \tfullscreen: true,\r\n\t\t\t    })\r\n\t\t\t    .then(function() {\r\n\t\t\t    \t$scope.type.busy = true;\r\n\t\t\t    \t$scope.isLoading = true;\r\n\t      \t\t\t$scope.type.show = false;\r\n\t\t\t\t    /* Refreshes the list*/\r\n\t\t\t\t    Setting.fabCreateSuccessMessage(item)\r\n\t\t\t\t    \t.then(function(){\r\n\t\t\t\t\t\t    $scope.init($scope.subheader.currentNavItem);\r\n\t\t\t\t    \t})\r\n\t\t\t    }, function() {\r\n\t\t\t    \treturn;\r\n\t\t\t    });\r\n\t\t\t}\r\n\r\n\t\t\t$scope.toolbar.items = [];\r\n\t\t\t\r\n\t\t\t$scope.init(item);\r\n\t\t\t\r\n\t\t\t$scope.item_menu = [\r\n\t\t\t\t{\r\n\t\t\t\t\t'label': 'Edit',\r\n\t\t\t\t\t'icon': 'mdi-pencil',\r\n\t\t\t\t\taction: function(item){\r\n\t\t\t\t\t\tvar action = 'edit';\r\n\t\t\t\t\t\tvar settingController = Setting.settingController(action, $scope.subheader.currentNavItem);\r\n\t\t\t\t\t\tvar settingDialogTemplate = Setting.settingDialogTemplate(action, $scope.subheader.currentNavItem);\r\n\r\n\t\t\t\t\t\tPreloader.set(item);\r\n\t\t\t\t\t\t$mdDialog.show({\r\n\t\t\t\t\t      \tcontroller: settingController,\r\n\t\t\t\t\t      \ttemplateUrl: '/app/components/admin/templates/dialogs/' + settingDialogTemplate,\r\n\t\t\t\t\t      \tparent: angular.element(document.body),\r\n\t\t\t\t\t      \tfullscreen: true,\r\n\t\t\t\t\t    })\r\n\t\t\t\t\t    .then(function() {\r\n\t\t\t\t\t    \t$scope.type.busy = true;\r\n\t\t\t      \t\t\t$scope.isLoading = true;\r\n\t\t\t      \t\t\t$scope.type.show = false;\r\n\t\t\t\t\t\t    /* Refreshes the list*/\r\n\t\t\t\t\t\t    var message = item.name + ' has been updated.';\r\n\t\t\t\t\t\t    Preloader.notify(message)\r\n\t\t\t\t\t\t\t    .then(function(){\t\r\n\t\t\t\t\t      \t\t\t$scope.init($scope.subheader.currentNavItem)\r\n\t\t\t\t      \t\t\t});\r\n\t\t\t\t\t    }, function() {\r\n\t\t\t\t\t    \treturn;\r\n\t\t\t\t\t    });\r\n\t\t\t\t\t}, \r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t'label': 'Delete',\r\n\t\t\t\t\t'icon': 'mdi-delete',\r\n\t\t\t\t\taction: function(item){\r\n\t\t\t\t\t\tvar confirm = $mdDialog.confirm()\r\n\t\t\t\t        \t.title('Delete')\r\n\t\t\t\t          \t.textContent('Delete ' + item.name + '?')\r\n\t\t\t\t          \t.ariaLabel('Delete')\r\n\t\t\t\t          \t.ok('Delete')\r\n\t\t\t\t          \t.cancel('Cancel');\r\n\r\n\t\t\t\t        $mdDialog.show(confirm).then(function() {\r\n\t\t\t      \t\t\t$scope.type.busy = true;\r\n\t\t\t      \t\t\t$scope.isLoading = true;\r\n\t\t\t      \t\t\t$scope.type.show = false;\r\n\t\t\t\t\t      \t/* Disables account of the user */\r\n\t\t\t\t\t      \tSetting.delete($scope.subheader.currentNavItem, item)\r\n\t\t\t\t\t      \t\t.success(function(){\r\n\t\t\t\t\t      \t\t\tvar message = item.name + ' has been removed.'\r\n\t\t\t\t\t      \t\t\tPreloader.notify(message)\r\n\t\t\t\t\t\t      \t\t\t.then(function(){\t\r\n\t\t\t\t\t\t\t      \t\t\t$scope.init($scope.subheader.currentNavItem)\r\n\t\t\t\t\t\t      \t\t\t});\r\n\t\t\t\t\t      \t\t})\r\n\t\t\t\t\t      \t\t.error(function(){\r\n\t\t\t\t\t      \t\t\tPreloader.error();\r\n\t\t\t\t\t      \t\t});\r\n\t\t\t\t\t    }, function() {\r\n\t\t\t\t\t      \treturn;\r\n\t\t\t\t\t    });\r\n\t\t\t\t\t}, \r\n\t\t\t\t},\r\n\t\t\t];\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Object for subheader\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.subheader = {};\r\n\r\n\t\t$scope.subheader.show = true;\r\n\r\n\t\t$scope.subheader.navs = [\r\n\t\t\t{\r\n\t\t\t\t'label':'Categories',\r\n\t\t\t\taction: function(){\r\n\t\t\t\t\tsetInit(this.label);\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'label':'Clients',\r\n\t\t\t\taction: function(){\r\n\t\t\t\t\tsetInit(this.label);\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t];\r\n\r\n\t\t$scope.subheader.sort = [\r\n\t\t\t{\r\n\t\t\t\t'label': 'Name',\r\n\t\t\t\t'type': 'name',\r\n\t\t\t\t'sortReverse': false,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'label': 'Recently added',\r\n\t\t\t\t'type': 'created_at',\r\n\t\t\t\t'sortReverse': false,\r\n\t\t\t},\r\n\t\t];\r\n\r\n\t\t$scope.subheader.refresh = function(){\r\n\t\t\t$scope.isLoading = true;\r\n  \t\t\t$scope.type.show = false;\r\n\r\n  \t\t\t$scope.init($scope.subheader.currentNavItem);\r\n\t\t}\r\n\r\n\t\t$scope.subheader.toggleActive = function(){\r\n\t\t\t$scope.showInactive = !$scope.showInactive;\r\n\t\t}\r\n\r\n\t\t$scope.subheader.sortBy = function(filter){\r\n\t\t\tfilter.sortReverse = !filter.sortReverse;\t\t\t\r\n\t\t\t$scope.sortType = filter.type;\r\n\t\t\t$scope.sortReverse = filter.sortReverse;\r\n\t\t}\r\n\r\n\t\t$scope.showOptions = function(type){\r\n\t\t\tif(type.deleted_at){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\ttype.item_menu = $scope.item_menu;\r\n\t\t\t/* Set the item */\r\n\t\t\tPreloader.set(type);\r\n\r\n\t\t\t/* Only opens on mobile devices */\r\n\t\t\tif($mdMedia('xs') || $mdMedia('sm')){\r\n\t\t\t\t$scope.fab.show = false;\r\n\r\n\t\t\t\t$mdBottomSheet.show({\r\n\t\t\t\t    templateUrl: '/app/shared/templates/bottom-sheets/item-actions-bottom-sheet.template.html',\r\n\t\t\t\t    controller: 'itemActionsBottomSheetController'\r\n\t\t\t\t}).then(function(idx) {\r\n\t\t\t\t\t/* Executes the action in item_menu*/\r\n\t\t\t\t    $scope.item_menu[idx].action(type);\r\n\t\t\t\t}, function(){\r\n\t\t\t\t\t$scope.fab.show = true;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t/* Opens in tablets and other devices with larger screens*/\r\n\t\t\telse{\r\n\t\t\t\t$mdDialog.show({\r\n\t\t\t      \tcontroller: 'itemActionsDialogController',\r\n\t\t\t      \ttemplateUrl: '/app/shared/templates/dialogs/item-actions-dialog.template.html',\r\n\t\t\t      \tparent: angular.element(document.body),\r\n\t\t\t      \tclickOutsideToClose:true,\r\n\t\t\t      \t// fullscreen: true,\r\n\t\t\t    })\r\n\t\t\t    .then(function(idx) {\r\n\t\t\t\t    /* Executes the action in item_menu*/\r\n\t\t\t\t    $scope.item_menu[idx].action(type);\r\n\t\t\t    }, function() {\r\n\t\t\t    \treturn;\r\n\t\t\t    });\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Object for rightSidenav\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.rightSidenav = {};\r\n\r\n\t\t$scope.rightSidenav.show = false;\r\n\r\n\t\tvar pushItem = function(item){\r\n\t\t\titem.first_letter = item.name.charAt(0).toUpperCase();\r\n\t\t\titem.created_at = new Date(item.created_at);\r\n\t\t\titem.deleted_at = item.deleted_at ? new Date(item.deleted_at) : null;\r\n\r\n\t\t\tvar filter = {};\r\n\t\t\tfilter.display = item.name;\r\n\r\n\t\t\t$scope.toolbar.items.push(filter);\r\n\t\t}\r\n\r\n\t\t$scope.init = function(request){\r\n\t\t\t$scope.type = {};\r\n\t\t\t$scope.type.items = [];\r\n\r\n\t\t\tif($scope.searched)\r\n\t\t\t{\r\n\t\t\t\t$scope.searchBar = false;\r\n\t\t\t\t$scope.toolbar.searchText = '';\r\n\t\t\t\t$scope.toolbar.searchItem = '';\r\n\t\t\t\t$scope.type.page = 1;\r\n\t\t\t\t$scope.type.no_matches = false;\r\n\t\t\t\t$scope.searched = false;\r\n\t\t\t}\r\n\r\n\t\t\t// 2 is default so the next page to be loaded will be page 2 \r\n\t\t\t$scope.type.page = 2;\r\n\r\n\t\t\tSetting.paginate(request)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.type.details = data;\r\n\t\t\t\t\t$scope.type.items = data.data;\r\n\t\t\t\t\t$scope.type.show = true;\r\n\r\n\t\t\t\t\t/* Fab */\r\n\t\t\t\t\t$scope.fab.show = true;\r\n\r\n\t\t\t\t\t// Hides inactive records\r\n\t\t\t\t\t$scope.showInactive = false;\r\n\r\n\t\t\t\t\tif(data.data.length){\r\n\t\t\t\t\t\t// iterate over each record and set the updated_at date and first letter\r\n\t\t\t\t\t\tangular.forEach(data.data, function(item){\r\n\t\t\t\t\t\t\tpushItem(item);\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t$scope.type.paginateLoad = function(){\r\n\t\t\t\t\t\t// kills the function if ajax is busy or pagination reaches last page\r\n\t\t\t\t\t\tif($scope.type.busy || ($scope.type.page > $scope.type.details.last_page)){\r\n\t\t\t\t\t\t\t$scope.isLoading = false;\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/**\r\n\t\t\t\t\t\t * Executes pagination call\r\n\t\t\t\t\t\t *\r\n\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t// sets to true to disable pagination call if still busy.\r\n\t\t\t\t\t\t$scope.type.busy = true;\r\n\t\t\t\t\t\t$scope.isLoading = true;\r\n\t\t\t\t\t\t// Calls the next page of pagination.\r\n\t\t\t\t\t\tSetting.paginate(request, $scope.type.page)\r\n\t\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t\t// increment the page to set up next page for next AJAX Call\r\n\t\t\t\t\t\t\t\t$scope.type.page++;\r\n\r\n\t\t\t\t\t\t\t\t// iterate over each data then splice it to the data array\r\n\t\t\t\t\t\t\t\tangular.forEach(data.data, function(item, key){\r\n\t\t\t\t\t\t\t\t\tpushItem(item);\r\n\t\t\t\t\t\t\t\t\t$scope.type.items.push(item);\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t// Enables again the pagination call for next call.\r\n\t\t\t\t\t\t\t\t$scope.type.busy = false;\r\n\t\t\t\t\t\t\t\t$scope.isLoading = false;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t};\r\n\r\n\t\t$scope.subheader.currentNavItem = $scope.subheader.navs[0].label;\r\n\r\n\t\t$scope.fab.label = $scope.subheader.navs[0].label;\r\n\t\t\r\n\t\t/* Sets up the page for what tab it is*/\r\n\t\tsetInit($scope.subheader.currentNavItem);\r\n\r\n\t}]);"],"sourceRoot":"/source/"}