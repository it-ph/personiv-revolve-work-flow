{"version":3,"sources":["admin.module.js","admin.routes.js","controllers/dashboard-content-container.controller.js","controllers/main-view.controller.js","controllers/settings-content-container.controller.js","controllers/bottom-sheets/item-actions-bottom-sheet.controller.js","controllers/dialogs/assign-tasks-dialog.controller.js","controllers/dialogs/create-categories-dialog.controller.js","controllers/dialogs/create-clients-dialog.controller.js","controllers/dialogs/create-designers-dialog.controller.js","controllers/dialogs/create-quality-control-dialog.controller.js","controllers/dialogs/create-tasks-dialog.controller.js","controllers/dialogs/edit-categories-dialog.controller.js","controllers/dialogs/edit-clients-dialog.controller.js","controllers/dialogs/edit-users-dialog.controller.js","controllers/dialogs/item-actions-dialog.controller.js"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1eA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"admin.js","sourcesContent":["var adminModule = angular.module('admin', ['sharedModule']);","adminModule\r\n\t.config(['$stateProvider', function($stateProvider){\r\n\t\t$stateProvider\r\n\t\t\t.state('main', {\r\n\t\t\t\turl: '/',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/views/main.view.html',\r\n\t\t\t\t\t\tcontroller: 'mainViewController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content-container@main': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/views/content-container.view.html',\r\n\t\t\t\t\t\tcontroller: 'dashboardContentContainerController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'toolbar@main': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/toolbar.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'left-sidenav@main': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/admin/templates/sidenavs/main-left-sidenav.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content@main':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/admin/templates/content/content.template.html',\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.state('main.settings', {\r\n\t\t\t\turl: 'settings',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content-container':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/views/content-container.view.html',\r\n\t\t\t\t\t\tcontroller: 'settingsContentContainerController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'toolbar@main.settings': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/toolbar.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'left-sidenav@main.settings': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/admin/templates/sidenavs/main-left-sidenav.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'subheader@main.settings': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/admin/templates/subheaders/settings-subheader.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content@main.settings':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/admin/templates/content/settings-content.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.state('main.tracker', {\r\n\t\t\t\turl: 'tracker',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content-container':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/views/content-container.view.html',\r\n\t\t\t\t\t\tcontroller: 'trackerContentContainerController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'toolbar@main.tracker': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/toolbar.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'left-sidenav@main.tracker': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/admin/templates/sidenavs/main-left-sidenav.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'subheader@main.tracker': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/admin/templates/subheaders/tracker-subheader.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content@main.tracker':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/admin/templates/content/tracker-content.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.state('main.upload', {\r\n\t\t\t\turl: 'upload',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content-container':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/views/content-container.view.html',\r\n\t\t\t\t\t\tcontroller: 'uploadContentContainerController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'toolbar@main.upload': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/toolbar.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'left-sidenav@main.upload': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/admin/templates/sidenavs/main-left-sidenav.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content@main.upload':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/admin/templates/content/upload-content.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.state('main.sheets', {\r\n\t\t\t\turl: 'sheets',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content-container':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/views/content-container.view.html',\r\n\t\t\t\t\t\tcontroller: 'sheetsContentContainerController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'toolbar@main.sheets': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/toolbar.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'left-sidenav@main.sheets': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/admin/templates/sidenavs/main-left-sidenav.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'subheader@main.sheets': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/admin/templates/subheaders/sheets-subheader.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content@main.sheets':{\r\n\t\t\t\t\t\ttemplateUrl: '/app/components/admin/templates/content/sheets-content.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}]);","adminModule\r\n\t.controller('dashboardContentContainerController', ['$scope', 'Preloader', 'User', function($scope, Preloader, User){\r\n\t\t$scope.toolbar = {};\r\n\r\n\t\t$scope.toolbar.childState = 'Dashboard';\r\n\r\n\t\t$scope.toolbar.items = [];\r\n\t\t$scope.toolbar.getItems = function(query){\r\n\t\t\tvar results = query ? $filter('filter')($scope.toolbar.items, query) : $scope.toolbar.items;\r\n\t\t\treturn results;\r\n\t\t}\r\n\t\t$scope.toolbar.searchAll = true;\r\n\t\t/**\r\n\t\t * Reveals the search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.showSearchBar = function(){\r\n\t\t\t// $scope.workStation.busy = true;\r\n\t\t\t$scope.searchBar = true;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Hides the search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.hideSearchBar = function(){\r\n\t\t\t// $scope.workStation.busy = false;\r\n\t\t\t$scope.searchBar = false;\r\n\t\t\t$scope.toolbar.searchText = '';\r\n\t    \t// if($scope.workStation.searched){\r\n\t    \t// \t$scope.toolbar.refresh();\r\n\t    \t// \t$scope.workStation.searched = false;\r\n\t    \t// }\r\n\t\t};\r\n\t\t\r\n\t\t$scope.searchUserInput = function(){\r\n\t\t\t// $scope.workStation.paginated.show = false;\r\n\t\t\tPreloader.preload();\r\n\t\t\t// WorkStation.search($scope.toolbar)\r\n\t\t\t// \t.success(function(data){\r\n\t\t\t// \t\tangular.forEach(data, function(item){\r\n\t\t\t// \t\t\tpushItem(item);\r\n\t\t\t// \t\t})\r\n\t\t\t// \t\t$scope.workStation.results = data;\r\n\t\t\t// \t\tPreloader.stop();\r\n\t\t\t// \t\t$scope.workStation.searched = true;\r\n\t\t\t// \t})\r\n\t\t\t// \t.error(function(data){\r\n\t\t\t// \t\tPreloader.error();\r\n\t\t\t// \t});\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Object for fab\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.fab = {};\r\n\r\n\t\t$scope.fab.icon = 'mdi-plus';\r\n\t\t// $scope.fab.label = 'Work Station';\r\n\t\t// $scope.fab.show = true;\r\n\r\n\t\t$scope.fab.action = function(){\r\n\t\t\t// $scope.createWorkStation();\t\t\t\r\n\t\t};\r\n\r\n\r\n\t\t/**\r\n\t\t * Object for rightSidenav\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.rightSidenav = {};\r\n\r\n\t\t$scope.rightSidenav.show = false;\r\n\r\n\t\tvar pushItem = function(item){\r\n\t\t\titem.first_letter = item.name.charAt(0).toUpperCase();\r\n\t\t}\r\n\r\n\t\t$scope.init = function(){\r\n\t\t\t// $scope.user = {};\r\n\t\t\t// $scope.user.paginated = [];\r\n\r\n\t\t\t// // 2 is default so the next page to be loaded will be page 2 \r\n\t\t\t// $scope.user.page = 2;\r\n\r\n\t\t\t// User.paginate()\r\n\t\t\t// \t.success(function(data){\r\n\t\t\t// \t\t$scope.user.details = data;\r\n\t\t\t// \t\t$scope.user.paginated = data.data;\r\n\t\t\t// \t\t$scope.user.paginated.show = true;\r\n\r\n\t\t\t// \t\tif(data.data.length){\r\n\t\t\t// \t\t\t// iterate over each record and set the updated_at date and first letter\r\n\t\t\t// \t\t\tangular.forEach(data.data, function(item){\r\n\t\t\t// \t\t\t\tpushItem(item);\r\n\t\t\t// \t\t\t});\r\n\r\n\t\t\t// \t\t\t$scope.fab.show = true;\r\n\t\t\t// \t\t}\r\n\r\n\t\t\t// \t\t$scope.user.paginateLoad = function(){\r\n\t\t\t// \t\t\t// kills the function if ajax is busy or pagination reaches last page\r\n\t\t\t// \t\t\tif($scope.user.busy || ($scope.user.page > $scope.user.details.last_page)){\r\n\t\t\t// \t\t\t\treturn;\r\n\t\t\t// \t\t\t}\r\n\t\t\t// \t\t\t/**\r\n\t\t\t// \t\t\t * Executes pagination call\r\n\t\t\t// \t\t\t *\r\n\t\t\t// \t\t\t*/\r\n\t\t\t// \t\t\t// sets to true to disable pagination call if still busy.\r\n\t\t\t// \t\t\t$scope.user.busy = true;\r\n\t\t\t// \t\t\t// Calls the next page of pagination.\r\n\t\t\t// \t\t\tUser.paginate($scope.user.page)\r\n\t\t\t// \t\t\t\t.success(function(data){\r\n\t\t\t// \t\t\t\t\t// increment the page to set up next page for next AJAX Call\r\n\t\t\t// \t\t\t\t\t$scope.user.page++;\r\n\r\n\t\t\t// \t\t\t\t\t// iterate over each data then splice it to the data array\r\n\t\t\t// \t\t\t\t\tangular.forEach(data.data, function(item, key){\r\n\t\t\t// \t\t\t\t\t\tpushItem(item);\r\n\t\t\t// \t\t\t\t\t\t$scope.user.paginated.push(item);\r\n\t\t\t// \t\t\t\t\t});\r\n\r\n\t\t\t// \t\t\t\t\t// Enables again the pagination call for next call.\r\n\t\t\t// \t\t\t\t\t$scope.user.busy = false;\r\n\t\t\t// \t\t\t\t});\r\n\t\t\t// \t\t}\r\n\t\t\t// \t})\r\n\t\t}();\r\n\t}]);","adminModule\r\n\t.controller('mainViewController', ['$scope', '$state', '$mdDialog', '$mdSidenav', '$mdToast', 'User', 'Preloader', 'Notification', function($scope, $state, $mdDialog, $mdSidenav, $mdToast, User, Preloader, Notification){\r\n\t\t$scope.toggleSidenav = function(menuID){\r\n\t\t\t$mdSidenav(menuID).toggle();\r\n\t\t}\r\n\r\n\t\t$scope.menu = {};\r\n\r\n\t\t$scope.menu.static = [\r\n\t\t\t{\r\n\t\t\t\t'state': 'main',\r\n\t\t\t\t'icon': 'mdi-view-dashboard',\r\n\t\t\t\t'label': 'Dashboard',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'state': 'main.sheets',\r\n\t\t\t\t'icon': 'mdi-file-excel',\r\n\t\t\t\t'label': 'Sheets',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'state': 'main.tracker',\r\n\t\t\t\t'icon': 'mdi-view-list',\r\n\t\t\t\t'label': 'Tracker',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'state': 'main.notifications',\r\n\t\t\t\t'icon': 'mdi-bell',\r\n\t\t\t\t'label': 'Notifications',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'state': 'main.settings',\r\n\t\t\t\t'icon': 'mdi-settings',\r\n\t\t\t\t'label': 'Settings',\r\n\t\t\t},\r\n\t\t]\r\n\t\t\r\n\r\n\t\t$scope.logout = function(){\r\n\t\t\tUser.logout()\r\n\t\t\t\t.success(function(){\r\n\t\t\t\t\twindow.location.href = '/';\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\t$scope.changePassword = function()\r\n\t\t{\r\n\t\t\t$mdDialog.show({\r\n\t\t      controller: 'changePasswordDialogController',\r\n\t\t      templateUrl: '/app/shared/templates/dialogs/change-password-dialog.template.html',\r\n\t\t      parent: angular.element(document.body),\r\n\t\t      fullscreen: true,\r\n\t\t    })\r\n\t\t    .then(function(){\r\n\t\t    \t$mdToast.show(\r\n\t\t    \t\t$mdToast.simple()\r\n\t\t\t\t        .content('Password changed.')\r\n\t\t\t\t        .position('bottom right')\r\n\t\t\t\t        .hideDelay(3000)\r\n\t\t    \t);\r\n\t\t    });\r\n\t\t}\r\n\r\n\t\tvar fetchUnreadNotifications = function(){\r\n\t\t\tUser.check()\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\tformatNotification(data);\r\n\t\t\t\t\t$scope.user = data;\r\n\t\t\t\t})\r\n\t\t}\r\n\r\n\t\tvar formatNotification = function(data){\r\n\t\t\tangular.forEach(data.unread_notifications, function(notif){\r\n\t\t\t\tnotif.first_letter = notif.data.sender.name.charAt(0).toUpperCase();\r\n\t\t\t\tnotif.sender = notif.data.sender.name;\r\n\t\t\t\tnotif.created_at = new Date(notif.created_at);\r\n\r\n\t\t\t\tif(notif.type == 'App\\\\Notifications\\\\TaskCreated'){\r\n\t\t\t\t\tnotif.message = 'created a new task.';\r\n\t\t\t\t\tnotif.action = function(id){\r\n\t\t\t\t\t\t// mark as read\r\n\t\t\t\t\t\tNotification.markAsRead(id)\r\n\t\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t\tformatNotification(data);\r\n\t\t\t\t\t\t\t\t$user = data;\r\n\t\t\t\t\t\t\t\t$state.go('main.task', {'taskID': id});\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if(notif.type == 'App\\\\Notifications\\\\SpreadsheetCreated'){\r\n\t\t\t\t\tnotif.message = 'created a new sheet.';\r\n\t\t\t\t\tnotif.action = function(id){\r\n\t\t\t\t\t\t// mark as read\r\n\t\t\t\t\t\tNotification.markAsRead(id)\r\n\t\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t\tformatNotification(data);\r\n\t\t\t\t\t\t\t\t$user = data;\r\n\t\t\t\t\t\t\t\t$state.go('main.sheet', {'sheetID': id});\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\telse if(notif.type == 'App\\\\Notifications\\\\TaskAssignedToDesigner'){\r\n\t\t\t\t\tnotif.message = 'assigned a task to ' + notif.data.attachment.designer.name + '.';\r\n\t\t\t\t\tnotif.action = function(id){\r\n\t\t\t\t\t\t// mark as read\r\n\t\t\t\t\t\tNotification.markAsRead(id)\r\n\t\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t\tformatNotification(data);\r\n\t\t\t\t\t\t\t\t$user = data;\r\n\t\t\t\t\t\t\t\t$state.go('main.sheet', {'sheetID': id});\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn data;\r\n\t\t}\r\n\r\n\t\t$scope.markAsRead = function(id){\r\n\t\t\tNotification.markAsRead(id)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\tformatNotification(data);\r\n\t\t\t\t\t$scope.user = data;\r\n\t\t\t\t})\r\n\t\t}\r\n\r\n\t\t$scope.markAllAsRead = function(){\r\n\t\t\tNotification.markAllAsRead()\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\tformatNotification(data);\r\n\t\t\t\t\t$scope.user = data;\r\n\t\t\t\t})\r\n\t\t}\r\n\r\n\t\tUser.check()\r\n\t\t\t.success(function(data){\r\n\t\t\t\tformatNotification(data);\r\n\r\n\t\t\t\t$scope.user = data;\r\n\r\n\t\t\t\tvar pusher = new Pusher('58891c6a307bb58de62e', {\r\n\t\t\t      encrypted: true\r\n\t\t\t    });\r\n\r\n\t\t\t\tvar channel = {};\r\n\r\n\t\t\t\tchannel.admin = pusher.subscribe('admin');\r\n\t\t\t\tchannel.user = pusher.subscribe('user.' + $scope.user.id);\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t    channel.user.bindings = [\r\n\t\t\t\t    channel.user.bind('App\\\\Events\\\\PusherTaskCreated', function(data) {\r\n\t\t\t\t    \tfetchUnreadNotifications();\r\n\t\t\t\t    \tvar message = data.sender.name + ' created a new task.';\r\n\t\t\t\t    \tPreloader.newNotification(message);\r\n\r\n\t\t\t\t    \t// if state is trackers \r\n\r\n\t\t\t\t    }),\r\n\r\n\t\t\t\t    channel.user.bind('App\\\\Events\\\\PusherSpreadsheetCreated', function(data) {\r\n\t\t\t\t    \tfetchUnreadNotifications();\r\n\t\t\t\t    \tvar message = data.sender.name + ' created a new sheet.';\r\n\t\t\t\t    \tPreloader.newNotification(message);\r\n\r\n\t\t\t\t    \t// if state is sheets \r\n\r\n\t\t\t\t    }),\r\n\r\n\t\t\t\t    channel.user.bind('App\\\\Events\\\\PusherTaskAssignedToDesigner', function(data) {\r\n\t\t\t\t    \tfetchUnreadNotifications();\r\n\t\t\t\t    \tvar message = data.sender.name + ' assigned a task to ' + data.data.name + '.';\r\n\t\t\t\t    \tPreloader.newNotification(message);\r\n\r\n\t\t\t\t    \t// if state is sheets \r\n\r\n\t\t\t\t    }),\r\n\t\t\t    ];\r\n\t\t\t})\r\n\t}]);","adminModule\r\n\t.controller('settingsContentContainerController', ['$scope', '$filter', '$timeout', '$mdDialog', '$mdToast', '$mdBottomSheet', '$mdMedia', 'Preloader', 'Setting', 'User', function($scope, $filter, $timeout, $mdDialog, $mdToast, $mdBottomSheet, $mdMedia, Preloader, Setting, User){\r\n\t\t$scope.toolbar = {};\r\n\r\n\t\t$scope.toolbar.childState = 'Settings';\r\n\r\n\t\t$scope.toolbar.getItems = function(query){\r\n\t\t\t$scope.showInactive = true;\r\n\t\t\tvar results = query ? $filter('filter')($scope.toolbar.items, query) : $scope.toolbar.items;\r\n\t\t\treturn results;\r\n\t\t}\r\n\t\t$scope.toolbar.searchAll = true;\r\n\t\t/**\r\n\t\t * Reveals the search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.showSearchBar = function(){\r\n\t\t\t$scope.type.busy = true;\r\n\t\t\t$scope.searchBar = true;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Hides the search bar.\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.hideSearchBar = function(){\r\n\t\t\t$scope.type.busy = false;\r\n\t\t\t$scope.searchBar = false;\r\n\t\t\t$scope.toolbar.searchText = '';\r\n\t\t\t$scope.toolbar.searchItem = '';\r\n\t\t\t$scope.showInactive = false;\r\n\t\t\t/* Cancels the paginate when the user sent a query */\r\n\t\t\tif($scope.searched){\r\n\t\t\t\t$scope.type.page = 1;\r\n\t\t\t\t$scope.type.no_matches = false;\r\n\t\t\t\t$scope.type.items = [];\r\n\t\t\t\t$scope.searched = false;\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\t$scope.searchUserInput = function(){\r\n\t\t\t$scope.type.busy = true;\r\n\t\t\t$scope.isLoading = true;\r\n  \t\t\t$scope.type.show = false;\r\n  \t\t\t\r\n  \t\t\t$scope.query = {};\r\n  \t\t\t$scope.query.searchText = $scope.toolbar.searchText;\r\n  \t\t\t$scope.query.withTrashed = true;\r\n\r\n  \t\t\tif($scope.subheader.currentNavItem == 'Designers'){\r\n  \t\t\t\t$scope.query.where = [\r\n  \t\t\t\t\t{\r\n  \t\t\t\t\t\t'label': 'role',\r\n  \t\t\t\t\t\t'condition': '=',\r\n  \t\t\t\t\t\t'value': 'designer',\r\n  \t\t\t\t\t}\r\n  \t\t\t\t];\r\n  \t\t\t}\r\n  \t\t\telse if($scope.subheader.currentNavItem == 'Quality Control'){\r\n  \t\t\t\t$scope.query.where = [\r\n  \t\t\t\t\t{\r\n  \t\t\t\t\t\t'label': 'role',\r\n  \t\t\t\t\t\t'condition': '=',\r\n  \t\t\t\t\t\t'value': 'quality_control',\r\n  \t\t\t\t\t}\r\n  \t\t\t\t];\t\r\n  \t\t\t}\r\n\r\n  \t\t\tSetting.search($scope.subheader.currentNavItem, $scope.query)\r\n  \t\t\t\t.success(function(data){\r\n  \t\t\t\t\t$scope.toolbar.items = [];\r\n  \t\t\t\t\tif(data.length){\r\n\t  \t\t\t\t\tangular.forEach(data, function(item){\r\n\t  \t\t\t\t\t\tpushItem(item);\r\n\t  \t\t\t\t\t});\r\n\t  \t\t\t\t\t$scope.type.items = data;\r\n  \t\t\t\t\t}\r\n  \t\t\t\t\telse{\r\n  \t\t\t\t\t\t$scope.type.items = [];\t\r\n\t  \t\t\t\t\t$scope.type.no_matches = true;\r\n  \t\t\t\t\t}\r\n  \t\t\t\t\t$scope.searched = true;\r\n  \t\t\t\t\t$scope.type.show = true;\r\n  \t\t\t\t\t$scope.isLoading = false;\r\n  \t\t\t\t})\r\n\t\t\t\t.error(function(data){\r\n\t\t\t\t\tPreloader.error();\r\n\t\t\t\t});\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Object for fab\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.fab = {};\r\n\r\n\t\t$scope.fab.icon = 'mdi-plus';\r\n\t\t\r\n\t\t/* Sets up the page for what tab it is*/\r\n\t\tvar setInit = function(item){\r\n\t\t\tvar action = 'create';\r\n\t\t\tvar settingController = Setting.settingController(action, item);\r\n\t\t\tvar settingDialogTemplate = Setting.settingDialogTemplate(action, item);\r\n\r\n\t\t\t$scope.fab.label = item;\r\n\r\n\t\t\t/* Create */\r\n\t\t\t$scope.fab.action = function(){\r\n\t\t\t\t$mdDialog.show({\r\n\t\t\t      \tcontroller: settingController,\r\n\t\t\t      \ttemplateUrl: '/app/components/admin/templates/dialogs/' + settingDialogTemplate,\r\n\t\t\t      \tparent: angular.element(document.body),\r\n\t\t\t      \tfullscreen: true,\r\n\t\t\t    })\r\n\t\t\t    .then(function() {\r\n\t\t\t    \t$scope.type.busy = true;\r\n\t\t\t    \t$scope.isLoading = true;\r\n\t      \t\t\t$scope.type.show = false;\r\n\t\t\t\t    /* Refreshes the list*/\r\n\t\t\t\t    Setting.fabCreateSuccessMessage(item)\r\n\t\t\t\t    \t.then(function(){\r\n\t\t\t\t\t\t    $scope.init($scope.subheader.currentNavItem);\r\n\t\t\t\t    \t})\r\n\t\t\t    }, function() {\r\n\t\t\t    \treturn;\r\n\t\t\t    });\r\n\t\t\t}\r\n\r\n\t\t\t$scope.toolbar.items = [];\r\n\t\t\t\r\n\t\t\t$scope.init(item);\r\n\t\t\t\r\n\t\t\tif(item == 'Categories' || item == 'Clients'){\r\n\t\t\t\t$scope.item_menu = [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t'label': 'Edit',\r\n\t\t\t\t\t\t'icon': 'mdi-pencil',\r\n\t\t\t\t\t\taction: function(item){\r\n\t\t\t\t\t\t\tvar action = 'edit';\r\n\t\t\t\t\t\t\tvar settingController = Setting.settingController(action, $scope.subheader.currentNavItem);\r\n\t\t\t\t\t\t\tvar settingDialogTemplate = Setting.settingDialogTemplate(action, $scope.subheader.currentNavItem);\r\n\r\n\t\t\t\t\t\t\tPreloader.set(item);\r\n\t\t\t\t\t\t\t$mdDialog.show({\r\n\t\t\t\t\t\t      \tcontroller: settingController,\r\n\t\t\t\t\t\t      \ttemplateUrl: '/app/components/admin/templates/dialogs/' + settingDialogTemplate,\r\n\t\t\t\t\t\t      \tparent: angular.element(document.body),\r\n\t\t\t\t\t\t      \tfullscreen: true,\r\n\t\t\t\t\t\t    })\r\n\t\t\t\t\t\t    .then(function() {\r\n\t\t\t\t\t\t    \t$scope.type.busy = true;\r\n\t\t\t\t      \t\t\t$scope.isLoading = true;\r\n\t\t\t\t      \t\t\t$scope.type.show = false;\r\n\t\t\t\t\t\t\t    /* Refreshes the list*/\r\n\t\t\t\t\t\t\t    var message = item.name + ' has been updated.';\r\n\t\t\t\t\t\t\t    Preloader.notify(message)\r\n\t\t\t\t\t\t\t\t    .then(function(){\t\r\n\t\t\t\t\t\t      \t\t\t$scope.init($scope.subheader.currentNavItem)\r\n\t\t\t\t\t      \t\t\t});\r\n\t\t\t\t\t\t    }, function() {\r\n\t\t\t\t\t\t    \treturn;\r\n\t\t\t\t\t\t    });\r\n\t\t\t\t\t\t}, \r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t'label': 'Delete',\r\n\t\t\t\t\t\t'icon': 'mdi-delete',\r\n\t\t\t\t\t\taction: function(item){\r\n\t\t\t\t\t\t\tvar confirm = $mdDialog.confirm()\r\n\t\t\t\t\t        \t.title('Delete')\r\n\t\t\t\t\t          \t.textContent('Delete ' + item.name + '?')\r\n\t\t\t\t\t          \t.ariaLabel('Delete')\r\n\t\t\t\t\t          \t.ok('Delete')\r\n\t\t\t\t\t          \t.cancel('Cancel');\r\n\r\n\t\t\t\t\t        $mdDialog.show(confirm).then(function() {\r\n\t\t\t\t      \t\t\t$scope.type.busy = true;\r\n\t\t\t\t      \t\t\t$scope.isLoading = true;\r\n\t\t\t\t      \t\t\t$scope.type.show = false;\r\n\t\t\t\t\t\t      \t/* Disables account of the user */\r\n\t\t\t\t\t\t      \tSetting.delete($scope.subheader.currentNavItem, item)\r\n\t\t\t\t\t\t      \t\t.success(function(){\r\n\t\t\t\t\t\t      \t\t\tvar message = item.name + ' has been removed.'\r\n\t\t\t\t\t\t      \t\t\tPreloader.notify(message)\r\n\t\t\t\t\t\t\t      \t\t\t.then(function(){\t\r\n\t\t\t\t\t\t\t\t      \t\t\t$scope.init($scope.subheader.currentNavItem)\r\n\t\t\t\t\t\t\t      \t\t\t});\r\n\t\t\t\t\t\t      \t\t})\r\n\t\t\t\t\t\t      \t\t.error(function(){\r\n\t\t\t\t\t\t      \t\t\tPreloader.error();\r\n\t\t\t\t\t\t      \t\t});\r\n\t\t\t\t\t\t    }, function() {\r\n\t\t\t\t\t\t      \treturn;\r\n\t\t\t\t\t\t    });\r\n\t\t\t\t\t\t}, \r\n\t\t\t\t\t},\r\n\t\t\t\t];\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\t$scope.item_menu = [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t'label': 'Update Info',\r\n\t\t\t\t\t\t'icon': 'mdi-pencil',\r\n\t\t\t\t\t\taction: function(user){\r\n\t\t\t\t\t\t\tPreloader.set(user);\r\n\t\t\t\t\t\t\t$mdDialog.show({\r\n\t\t\t\t\t\t      \tcontroller: 'editUsersDialogController',\r\n\t\t\t\t\t\t      \ttemplateUrl: '/app/components/admin/templates/dialogs/edit-users-dialog.template.html',\r\n\t\t\t\t\t\t      \tparent: angular.element(document.body),\r\n\t\t\t\t\t\t      \tfullscreen: true,\r\n\t\t\t\t\t\t    })\r\n\t\t\t\t\t\t    .then(function() {\r\n\t\t\t\t\t\t    \t$scope.type.busy = true;\r\n\t\t\t\t      \t\t\t$scope.isLoading = true;\r\n\t\t\t\t      \t\t\t$scope.type.show = false;\r\n\t\t\t\t\t\t\t    /* Refreshes the list*/\r\n\t\t\t\t\t\t\t    var message = user.name + '\\'s account has been updated.'\r\n\t\t\t\t\t\t\t    Preloader.notify(message)\r\n\t\t\t\t\t\t\t\t    .then(function(){\t\r\n\t\t\t\t\t\t      \t\t\t$scope.init($scope.subheader.currentNavItem)\r\n\t\t\t\t\t      \t\t\t});\r\n\t\t\t\t\t\t    }, function() {\r\n\t\t\t\t\t\t    \treturn;\r\n\t\t\t\t\t\t    });\r\n\t\t\t\t\t\t}, \r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t'label': 'Reset Password',\r\n\t\t\t\t\t\t'icon': 'mdi-key-minus',\r\n\t\t\t\t\t\taction: function(user){\r\n\t\t\t\t\t\t\tvar confirm = $mdDialog.confirm()\r\n\t\t\t\t\t        \t.title('Reset password')\r\n\t\t\t\t\t          \t.textContent('Reset ' + user.name + '\\'s password?')\r\n\t\t\t\t\t          \t.ariaLabel('Reset password')\r\n\t\t\t\t\t          \t.ok('Reset')\r\n\t\t\t\t\t          \t.cancel('Cancel');\r\n\r\n\t\t\t\t\t        $mdDialog.show(confirm).then(function() {\r\n\t\t\t\t\t\t      \t/* Resets the password to !welcome10 */\r\n\t\t\t\t\t\t      \tUser.resetPassword([user])\r\n\t\t\t\t\t\t      \t\t.success(function(){\r\n\t\t\t\t\t\t      \t\t\tvar message = user.name + '\\'s password has been reset to \"!welcome10\".'\r\n\t\t\t\t\t\t      \t\t\tPreloader.notify(message);\r\n\t\t\t\t\t\t      \t\t})\r\n\t\t\t\t\t\t      \t\t.error(function(){\r\n\t\t\t\t\t\t      \t\t\tPreloader.error();\r\n\t\t\t\t\t\t      \t\t});\r\n\t\t\t\t\t\t    }, function() {\r\n\t\t\t\t\t\t      \treturn;\r\n\t\t\t\t\t\t    });\r\n\t\t\t\t\t\t}, \r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t'label': 'Disable Account',\r\n\t\t\t\t\t\t'icon': 'mdi-account-remove',\r\n\t\t\t\t\t\taction: function(user){\r\n\t\t\t\t\t\t\tvar confirm = $mdDialog.confirm()\r\n\t\t\t\t\t        \t.title('Disable account')\r\n\t\t\t\t\t          \t.textContent('Disable ' + user.name + '\\'s account?')\r\n\t\t\t\t\t          \t.ariaLabel('Disable account')\r\n\t\t\t\t\t          \t.ok('Disable')\r\n\t\t\t\t\t          \t.cancel('Cancel');\r\n\r\n\t\t\t\t\t        $mdDialog.show(confirm).then(function() {\r\n\t\t\t\t      \t\t\t$scope.type.busy = true;\r\n\t\t\t\t      \t\t\t$scope.isLoading = true;\r\n\t\t\t\t      \t\t\t$scope.type.show = false;\r\n\t\t\t\t\t\t      \t/* Disables account of the user */\r\n\t\t\t\t\t\t      \tUser.delete(user)\r\n\t\t\t\t\t\t      \t\t.success(function(){\r\n\t\t\t\t\t\t      \t\t\tvar message = user.name + '\\'s account has been disabled.'\r\n\t\t\t\t\t\t      \t\t\tPreloader.notify(message)\r\n\t\t\t\t\t\t\t      \t\t\t.then(function(){\t\r\n\t\t\t\t\t\t\t\t      \t\t\t$scope.init($scope.subheader.currentNavItem)\r\n\t\t\t\t\t\t\t      \t\t\t});\r\n\t\t\t\t\t\t      \t\t})\r\n\t\t\t\t\t\t      \t\t.error(function(){\r\n\t\t\t\t\t\t      \t\t\tPreloader.error();\r\n\t\t\t\t\t\t      \t\t});\r\n\t\t\t\t\t\t    }, function() {\r\n\t\t\t\t\t\t      \treturn;\r\n\t\t\t\t\t\t    });\r\n\t\t\t\t\t\t}, \r\n\t\t\t\t\t},\r\n\t\t\t\t];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Object for subheader\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.subheader = {};\r\n\r\n\t\t$scope.subheader.show = true;\r\n\r\n\t\t$scope.subheader.navs = [\r\n\t\t\t{\r\n\t\t\t\t'label':'Categories',\r\n\t\t\t\taction: function(){\r\n\t\t\t\t\tsetInit(this.label);\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'label':'Clients',\r\n\t\t\t\taction: function(){\r\n\t\t\t\t\tsetInit(this.label);\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'label':'Designers',\r\n\t\t\t\taction: function(){\r\n\t\t\t\t\tsetInit(this.label);\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'label':'Quality Control',\r\n\t\t\t\taction: function(){\r\n\t\t\t\t\tsetInit(this.label);\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t];\r\n\r\n\t\t$scope.subheader.sort = [\r\n\t\t\t{\r\n\t\t\t\t'label': 'Name',\r\n\t\t\t\t'type': 'name',\r\n\t\t\t\t'sortReverse': false,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'label': 'Recently added',\r\n\t\t\t\t'type': 'created_at',\r\n\t\t\t\t'sortReverse': false,\r\n\t\t\t},\r\n\t\t];\r\n\r\n\t\t$scope.subheader.refresh = function(){\r\n\t\t\t$scope.isLoading = true;\r\n  \t\t\t$scope.type.show = false;\r\n\r\n  \t\t\t$scope.init($scope.subheader.currentNavItem);\r\n\t\t}\r\n\r\n\t\t$scope.subheader.toggleActive = function(){\r\n\t\t\t$scope.showInactive = !$scope.showInactive;\r\n\t\t}\r\n\r\n\t\t$scope.subheader.sortBy = function(filter){\r\n\t\t\tfilter.sortReverse = !filter.sortReverse;\t\t\t\r\n\t\t\t$scope.sortType = filter.type;\r\n\t\t\t$scope.sortReverse = filter.sortReverse;\r\n\t\t}\r\n\r\n\t\t$scope.showOptions = function(type){\r\n\t\t\tif(type.deleted_at){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\ttype.item_menu = $scope.item_menu;\r\n\t\t\t/* Set the item */\r\n\t\t\tPreloader.set(type);\r\n\r\n\t\t\t/* Only opens on mobile devices */\r\n\t\t\tif($mdMedia('xs') || $mdMedia('sm')){\r\n\t\t\t\t$scope.fab.show = false;\r\n\r\n\t\t\t\t$mdBottomSheet.show({\r\n\t\t\t\t    templateUrl: '/app/shared/templates/bottom-sheets/item-actions-bottom-sheet.template.html',\r\n\t\t\t\t    controller: 'itemActionsBottomSheetController'\r\n\t\t\t\t}).then(function(idx) {\r\n\t\t\t\t\t/* Executes the action in item_menu*/\r\n\t\t\t\t    $scope.item_menu[idx].action(type);\r\n\t\t\t\t}, function(){\r\n\t\t\t\t\t$scope.fab.show = true;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t/* Opens in tablets and other devices with larger screens*/\r\n\t\t\telse{\r\n\t\t\t\t$mdDialog.show({\r\n\t\t\t      \tcontroller: 'itemActionsDialogController',\r\n\t\t\t      \ttemplateUrl: '/app/shared/templates/dialogs/item-actions-dialog.template.html',\r\n\t\t\t      \tparent: angular.element(document.body),\r\n\t\t\t      \tclickOutsideToClose:true,\r\n\t\t\t      \t// fullscreen: true,\r\n\t\t\t    })\r\n\t\t\t    .then(function(idx) {\r\n\t\t\t\t    /* Executes the action in item_menu*/\r\n\t\t\t\t    $scope.item_menu[idx].action(type);\r\n\t\t\t    }, function() {\r\n\t\t\t    \treturn;\r\n\t\t\t    });\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Object for rightSidenav\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.rightSidenav = {};\r\n\r\n\t\t$scope.rightSidenav.show = false;\r\n\r\n\t\tvar pushItem = function(item){\r\n\t\t\titem.first_letter = item.name.charAt(0).toUpperCase();\r\n\t\t\titem.created_at = new Date(item.created_at);\r\n\t\t\titem.deleted_at = item.deleted_at ? new Date(item.deleted_at) : null;\r\n\r\n\t\t\tvar filter = {};\r\n\t\t\tfilter.display = item.name;\r\n\r\n\t\t\t$scope.toolbar.items.push(filter);\r\n\t\t}\r\n\r\n\t\t$scope.init = function(request){\r\n\t\t\t$scope.type = {};\r\n\t\t\t$scope.type.items = [];\r\n\r\n\t\t\tif($scope.searched)\r\n\t\t\t{\r\n\t\t\t\t$scope.searchBar = false;\r\n\t\t\t\t$scope.toolbar.searchText = '';\r\n\t\t\t\t$scope.toolbar.searchItem = '';\r\n\t\t\t\t$scope.type.page = 1;\r\n\t\t\t\t$scope.type.no_matches = false;\r\n\t\t\t\t$scope.searched = false;\r\n\t\t\t}\r\n\r\n\t\t\t// 2 is default so the next page to be loaded will be page 2 \r\n\t\t\t$scope.type.page = 2;\r\n\r\n\t\t\tSetting.paginate(request)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.type.details = data;\r\n\t\t\t\t\t$scope.type.items = data.data;\r\n\t\t\t\t\t$scope.type.show = true;\r\n\r\n\t\t\t\t\t/* Fab */\r\n\t\t\t\t\t$scope.fab.show = true;\r\n\r\n\t\t\t\t\t// Hides inactive records\r\n\t\t\t\t\t$scope.showInactive = false;\r\n\r\n\t\t\t\t\tif(data.data.length){\r\n\t\t\t\t\t\t// iterate over each record and set the updated_at date and first letter\r\n\t\t\t\t\t\tangular.forEach(data.data, function(item){\r\n\t\t\t\t\t\t\tpushItem(item);\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t$scope.type.paginateLoad = function(){\r\n\t\t\t\t\t\t// kills the function if ajax is busy or pagination reaches last page\r\n\t\t\t\t\t\tif($scope.type.busy || ($scope.type.page > $scope.type.details.last_page)){\r\n\t\t\t\t\t\t\t$scope.isLoading = false;\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/**\r\n\t\t\t\t\t\t * Executes pagination call\r\n\t\t\t\t\t\t *\r\n\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t// sets to true to disable pagination call if still busy.\r\n\t\t\t\t\t\t$scope.type.busy = true;\r\n\t\t\t\t\t\t$scope.isLoading = true;\r\n\t\t\t\t\t\t// Calls the next page of pagination.\r\n\t\t\t\t\t\tSetting.paginate(request, $scope.type.page)\r\n\t\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t\t// increment the page to set up next page for next AJAX Call\r\n\t\t\t\t\t\t\t\t$scope.type.page++;\r\n\r\n\t\t\t\t\t\t\t\t// iterate over each data then splice it to the data array\r\n\t\t\t\t\t\t\t\tangular.forEach(data.data, function(item, key){\r\n\t\t\t\t\t\t\t\t\tpushItem(item);\r\n\t\t\t\t\t\t\t\t\t$scope.type.items.push(item);\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t// Enables again the pagination call for next call.\r\n\t\t\t\t\t\t\t\t$scope.type.busy = false;\r\n\t\t\t\t\t\t\t\t$scope.isLoading = false;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t};\r\n\r\n\t\t$scope.subheader.currentNavItem = $scope.subheader.navs[0].label;\r\n\r\n\t\t$scope.fab.label = $scope.subheader.navs[0].label;\r\n\t\t\r\n\t\t/* Sets up the page for what tab it is*/\r\n\t\tsetInit($scope.subheader.currentNavItem);\r\n\r\n\t}]);","adminModule\r\n\t.controller('itemActionsBottomSheetController', ['$scope', '$mdBottomSheet', 'Preloader', function($scope, $mdBottomSheet, Preloader){\r\n\t\t$scope.type = Preloader.get();\r\n\r\n\t\t$scope.action = function(idx){\r\n\t\t\t$mdBottomSheet.hide(idx);\r\n\t\t}\r\n\t}]);","adminModule\r\n\t.controller('assignTasksDialogController', ['$scope', '$mdDialog', 'Preloader', 'User', 'DesignerAssigned', function($scope, $mdDialog, Preloader, User, DesignerAssigned){\r\n\t\t$scope.tasks = Preloader.get();\r\n\t\t$scope.busy = false;\r\n\r\n\t\t$scope.cancel = function(){\r\n\t\t\t$mdDialog.cancel();\r\n\t\t}\r\n\r\n\t\t$scope.setDesigner = function(){\r\n\t\t\tangular.forEach($scope.tasks, function(task, key){\r\n\t\t\t\tif(task.include){\r\n\t\t\t\t\ttask.designer_id = $scope.designer;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tvar query = {\r\n\t\t\t'where': [\r\n\t\t\t\t{\r\n\t\t\t\t\t'label': 'role',\r\n\t\t\t\t\t'condition': '=',\r\n\t\t\t\t\t'value': 'designer',\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t}\r\n\r\n\t\tUser.enlist(query)\r\n\t\t\t.success(function(data){\r\n\t\t\t\t$scope.users = data;\r\n\t\t\t})\r\n\r\n\t\t$scope.submit = function(){\r\n\t\t\tif($scope.assignTaskForm.$invalid){\r\n\t\t\t\tangular.forEach($scope.assignTaskForm.$error, function(field){\r\n\t\t\t\t\tangular.forEach(field, function(errorField){\r\n\t\t\t\t\t\terrorField.$setTouched();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(!$scope.busy){\r\n\t\t\t\t$scope.busy = true;\r\n\t\t\t\tDesignerAssigned.store($scope.tasks)\r\n\t\t\t\t\t.success(function(){\r\n\t\t\t\t\t\tPreloader.stop();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\tPreloader.error();\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}]);","adminModule\r\n\t.controller('createCategoriesDialogController', ['$scope', '$mdDialog', 'Preloader', 'Category', function($scope, $mdDialog, Preloader, Category){\r\n\t\tvar urlBase = 'category';\r\n\t\t$scope.category = {};\r\n\t\t$scope.busy = false;\r\n\t\t$scope.duplicate = false;\r\n\r\n\t\t$scope.checkDuplicate = function(){\r\n\t\t\tPreloader.checkDuplicate(urlBase, $scope.category)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.duplicate = data;\r\n\t\t\t\t})\r\n\t\t}\r\n\r\n\t\t$scope.cancel = function(){\r\n\t\t\t$mdDialog.cancel();\r\n\t\t}\r\n\r\n\t\t$scope.submit = function(){\r\n\t\t\tif($scope.categoryForm.$invalid){\r\n\t\t\t\tangular.forEach($scope.categoryForm.$error, function(field){\r\n\t\t\t\t\tangular.forEach(field, function(errorField){\r\n\t\t\t\t\t\terrorField.$setTouched();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(!$scope.duplicate){\r\n\t\t\t\t$scope.busy = true;\r\n\t\t\t\tCategory.store($scope.category)\r\n\t\t\t\t\t.success(function(duplicate){\r\n\t\t\t\t\t\tif(duplicate){\r\n\t\t\t\t\t\t\t$scope.busy = false;\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tPreloader.stop();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\tPreloader.error();\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}]);","adminModule\r\n\t.controller('createClientsDialogController', ['$scope', '$mdDialog', 'Preloader', 'Client', function($scope, $mdDialog, Preloader, Client){\r\n\t\tvar urlBase = 'client';\r\n\t\t$scope.client = {};\r\n\t\t$scope.busy = false;\r\n\t\t$scope.duplicate = false;\r\n\r\n\t\t$scope.checkDuplicate = function(){\r\n\t\t\tPreloader.checkDuplicate(urlBase, $scope.client)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.duplicate = data;\r\n\t\t\t\t})\r\n\t\t}\r\n\r\n\t\t$scope.cancel = function(){\r\n\t\t\t$mdDialog.cancel();\r\n\t\t}\r\n\r\n\t\t$scope.submit = function(){\r\n\t\t\tif($scope.clientForm.$invalid){\r\n\t\t\t\tangular.forEach($scope.clientForm.$error, function(field){\r\n\t\t\t\t\tangular.forEach(field, function(errorField){\r\n\t\t\t\t\t\terrorField.$setTouched();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(!$scope.duplicate){\r\n\t\t\t\t$scope.busy = true;\r\n\t\t\t\tClient.store($scope.client)\r\n\t\t\t\t\t.success(function(duplicate){\r\n\t\t\t\t\t\tif(duplicate){\r\n\t\t\t\t\t\t\t$scope.busy = false;\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tPreloader.stop();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\tPreloader.error();\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}]);","adminModule\r\n\t.controller('createDesignersDialogController', ['$scope', '$mdDialog', 'Preloader', 'User', function($scope, $mdDialog, Preloader, User){\r\n\t\t$scope.user = {};\r\n\t\t$scope.user.role = 'designer';\r\n\t\t$scope.label = 'Designer';\r\n\r\n\t\t$scope.busy = false;\r\n\t\t$scope.duplicate = false;\r\n\t\t$scope.showHints = true;\r\n\r\n\t\t$scope.checkDuplicate = function(){\r\n\t\t\tUser.checkEmail($scope.user)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.duplicate = data;\r\n\t\t\t\t})\r\n\t\t}\r\n\r\n\t\t$scope.cancel = function(){\r\n\t\t\t$mdDialog.cancel();\r\n\t\t}\r\n\r\n\t\t$scope.submit = function(){\r\n\t\t\t$scope.showHints = false;\r\n\t\t\tif($scope.userForm.$invalid){\r\n\t\t\t\tangular.forEach($scope.userForm.$error, function(field){\r\n\t\t\t\t\tangular.forEach(field, function(errorField){\r\n\t\t\t\t\t\terrorField.$setTouched();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif($scope.user.password != $scope.user.confirm)\r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t$scope.busy = true;\r\n\t\t\tUser.store($scope.user)\r\n\t\t\t\t.success(function(duplicate){\r\n\t\t\t\t\tif(duplicate){\r\n\t\t\t\t\t\t$scope.busy = false;\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tPreloader.stop();\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tPreloader.error();\r\n\t\t\t\t});\r\n\t\t}\r\n\t}]);","adminModule\r\n\t.controller('createQualityControlDialogController', ['$scope', '$mdDialog', 'Preloader', 'User', function($scope, $mdDialog, Preloader, User){\r\n\t\t$scope.user = {};\r\n\t\t$scope.user.role = 'quality_control';\r\n\t\t$scope.label = 'Quality Control';\r\n\r\n\t\t$scope.busy = false;\r\n\t\t$scope.duplicate = false;\r\n\t\t$scope.showHints = true;\r\n\r\n\t\t$scope.checkDuplicate = function(){\r\n\t\t\tUser.checkEmail($scope.user)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.duplicate = data;\r\n\t\t\t\t})\r\n\t\t}\r\n\r\n\t\t$scope.cancel = function(){\r\n\t\t\t$mdDialog.cancel();\r\n\t\t}\r\n\r\n\t\t$scope.submit = function(){\r\n\t\t\t$scope.showHints = false;\r\n\t\t\tif($scope.userForm.$invalid){\r\n\t\t\t\tangular.forEach($scope.userForm.$error, function(field){\r\n\t\t\t\t\tangular.forEach(field, function(errorField){\r\n\t\t\t\t\t\terrorField.$setTouched();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif($scope.user.password != $scope.user.confirm)\r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t$scope.busy = true;\r\n\t\t\tUser.store($scope.user)\r\n\t\t\t\t.success(function(duplicate){\r\n\t\t\t\t\tif(duplicate){\r\n\t\t\t\t\t\t$scope.busy = false;\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tPreloader.stop();\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tPreloader.error();\r\n\t\t\t\t});\r\n\t\t}\r\n\t}]);","adminModule\r\n\t.controller('createTasksDialogController', ['$scope', '$mdDialog', 'Preloader', 'Category', 'Client', 'Task', function($scope, $mdDialog, Preloader, Category, Client, Task){\r\n\t\tvar urlBase = 'task';\r\n\t\t$scope.task = {};\r\n\t\t$scope.task.delivery_date = new Date();\r\n\t\t$scope.task.live_date = new Date();\r\n\t\t$scope.busy = false;\r\n\t\t$scope.duplicate = false;\r\n\r\n\t\tCategory.index()\r\n\t\t\t.success(function(data){\r\n\t\t\t\t$scope.categories = data;\r\n\t\t\t})\r\n\r\n\t\tClient.index()\r\n\t\t\t.success(function(data){\r\n\t\t\t\t$scope.clients = data;\r\n\t\t\t})\r\n\r\n\t\t$scope.checkDuplicate = function(){\r\n\t\t\tPreloader.checkDuplicate(urlBase, $scope.task)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.duplicate = data;\r\n\t\t\t\t})\r\n\t\t}\r\n\r\n\t\t$scope.cancel = function(){\r\n\t\t\t$mdDialog.cancel();\r\n\t\t}\r\n\r\n\t\t$scope.submit = function(){\r\n\t\t\tif($scope.taskForm.$invalid){\r\n\t\t\t\tangular.forEach($scope.taskForm.$error, function(field){\r\n\t\t\t\t\tangular.forEach(field, function(errorField){\r\n\t\t\t\t\t\terrorField.$setTouched();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(!$scope.duplicate){\r\n\t\t\t\t$scope.busy = true;\r\n\t\t\t\t\r\n\t\t\t\t$scope.task.delivery_date = $scope.task.delivery_date.toDateString();\r\n\t\t\t\t$scope.task.live_date = $scope.task.live_date.toDateString();\r\n\r\n\t\t\t\tTask.store($scope.task)\r\n\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\tif(typeof data === 'boolean'){\r\n\t\t\t\t\t\t\t$scope.busy = false;\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tPreloader.stop(data);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\tPreloader.error();\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}]);","adminModule\r\n\t.controller('editCategoriesDialogController', ['$scope', '$mdDialog', 'Preloader', 'Category', function($scope, $mdDialog, Preloader, Category){\r\n\t\tvar urlBase = 'category';\r\n\t\t\r\n\t\tCategory.show(Preloader.get().id)\r\n\t\t\t.success(function(data){\r\n\t\t\t\t$scope.category = data;\r\n\t\t\t\t$scope.label = data.name;\r\n\t\t\t})\r\n\r\n\t\t$scope.busy = false;\r\n\t\t$scope.duplicate = false;\r\n\r\n\t\t$scope.checkDuplicate = function(){\r\n\t\t\tPreloader.checkDuplicate(urlBase, $scope.category)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.duplicate = data;\r\n\t\t\t\t})\r\n\t\t}\r\n\r\n\t\t$scope.cancel = function(){\r\n\t\t\t$mdDialog.cancel();\r\n\t\t}\r\n\r\n\t\t$scope.submit = function(){\r\n\t\t\tif($scope.categoryForm.$invalid){\r\n\t\t\t\tangular.forEach($scope.categoryForm.$error, function(field){\r\n\t\t\t\t\tangular.forEach(field, function(errorField){\r\n\t\t\t\t\t\terrorField.$setTouched();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(!$scope.duplicate){\r\n\t\t\t\t$scope.busy = true;\r\n\t\t\t\tCategory.update($scope.category.id, $scope.category)\r\n\t\t\t\t\t.success(function(duplicate){\r\n\t\t\t\t\t\tif(duplicate){\r\n\t\t\t\t\t\t\t$scope.busy = false;\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tPreloader.stop();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\tPreloader.error();\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}]);","adminModule\r\n\t.controller('editClientsDialogController', ['$scope', '$mdDialog', 'Preloader', 'Client', function($scope, $mdDialog, Preloader, Client){\r\n\t\tvar urlBase = 'client';\r\n\t\t\r\n\t\tClient.show(Preloader.get().id)\r\n\t\t\t.success(function(data){\r\n\t\t\t\t$scope.client = data;\r\n\t\t\t\t$scope.label = data.name;\r\n\t\t\t})\r\n\r\n\t\t$scope.busy = false;\r\n\t\t$scope.duplicate = false;\r\n\r\n\t\t$scope.checkDuplicate = function(){\r\n\t\t\tPreloader.checkDuplicate(urlBase, $scope.client)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.duplicate = data;\r\n\t\t\t\t})\r\n\t\t}\r\n\r\n\t\t$scope.cancel = function(){\r\n\t\t\t$mdDialog.cancel();\r\n\t\t}\r\n\r\n\t\t$scope.submit = function(){\r\n\t\t\tif($scope.clientForm.$invalid){\r\n\t\t\t\tangular.forEach($scope.clientForm.$error, function(field){\r\n\t\t\t\t\tangular.forEach(field, function(errorField){\r\n\t\t\t\t\t\terrorField.$setTouched();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(!$scope.duplicate){\r\n\t\t\t\t$scope.busy = true;\r\n\t\t\t\tClient.update($scope.client.id, $scope.client)\r\n\t\t\t\t\t.success(function(duplicate){\r\n\t\t\t\t\t\tif(duplicate){\r\n\t\t\t\t\t\t\t$scope.busy = false;\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tPreloader.stop();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\tPreloader.error();\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}]);","adminModule\r\n\t.controller('editUsersDialogController', ['$scope', '$mdDialog', 'Preloader', 'User', function($scope, $mdDialog, Preloader, User){\r\n\t\tUser.show(Preloader.get().id)\r\n\t\t\t.success(function(data){\r\n\t\t\t\t$scope.user = data;\r\n\t\t\t\t$scope.label = data.name;\r\n\t\t\t})\r\n\t\t\t\r\n\r\n\t\t$scope.busy = false;\r\n\t\t$scope.duplicate = false;\r\n\t\t$scope.showHints = true;\r\n\t\t$scope.roles = [\r\n\t\t\t{\r\n\t\t\t\t'label': 'Designer',\r\n\t\t\t\t'value': 'designer',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'label': 'Quality Control',\r\n\t\t\t\t'value': 'quality_control',\r\n\t\t\t},\r\n\t\t];\r\n\r\n\t\t$scope.checkDuplicate = function(){\r\n\t\t\tUser.checkEmail($scope.user)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.duplicate = data;\r\n\t\t\t\t})\r\n\t\t}\r\n\r\n\t\t$scope.cancel = function(){\r\n\t\t\t$mdDialog.cancel();\r\n\t\t}\r\n\r\n\t\t$scope.submit = function(){\r\n\t\t\t$scope.showHints = false;\r\n\t\t\tif($scope.userForm.$invalid){\r\n\t\t\t\tangular.forEach($scope.userForm.$error, function(field){\r\n\t\t\t\t\tangular.forEach(field, function(errorField){\r\n\t\t\t\t\t\terrorField.$setTouched();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif($scope.user.password != $scope.user.confirm)\r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t$scope.busy = true;\r\n\t\t\tUser.update($scope.user.id, $scope.user)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\tif(typeof data == 'boolean'){\r\n\t\t\t\t\t\t$scope.busy = false;\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tPreloader.stop(data);\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tPreloader.error();\r\n\t\t\t\t});\r\n\t\t}\r\n\t}]);","adminModule\r\n\t.controller('itemActionsDialogController', ['$scope', '$mdDialog', 'Preloader', function($scope, $mdDialog, Preloader){\r\n\t\t$scope.type = Preloader.get();\r\n\r\n\t\t$scope.action = function(idx){\r\n\t\t\t$mdDialog.hide(idx);\r\n\t\t}\r\n\t}]);"],"sourceRoot":"/source/"}